/* --- Estilos Generales --- */
body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    line-height: 1.6;
    margin: 0;
    padding: 0;
    background-color: #f4f7f6;
    color: #333;
}

.main-header, .main-footer {
    text-align: center;
    padding: 1em;
    background-color: #004d40; /* Verde oscuro */
    color: #fff;
}

.main-header h1 {
    margin: 0;
    font-size: 1.8em;
}
.main-header h2 {
    margin: 0;
    font-size: 1.2em;
    font-weight: normal;
    opacity: 0.9;
}

.procedure-container {
    max-width: 900px;
    margin: 2em auto;
    padding: 1em;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

/* --- Estilos Base para Secciones --- */
.procedure-section {
    margin-bottom: 0; /* El margen ahora lo controla .main-section-details */
    padding-bottom: 0;
    border-bottom: none;
}

/* --- Estilos para Secciones Principales Colapsables --- */
.main-section-details {
    border: 1px solid #a5d6a7; /* Borde verde */
    border-radius: 6px;
    background-color: #f0f8f7; /* Fondo verde muy pálido */
    margin-bottom: 1.5em; /* Separación entre secciones */
}

.main-section-details > summary {
    padding: 0.8em 1em;
    cursor: pointer;
    background-color: #c8e6c9; /* Verde claro */
    border-radius: 5px;
    list-style: none; /* Importante para quitar marcador por defecto */
    display: flex;
    align-items: center;
    transition: background-color 0.2s ease;
}
.main-section-details > summary:hover {
    background-color: #b2dfdb; /* Verde más claro al pasar */
}

.main-section-details[open] > summary {
     border-bottom: 1px solid #a5d6a7; /* Línea al abrir */
     background-color: #b2dfdb; /* Cambia color al abrir */
     border-bottom-left-radius: 0;
     border-bottom-right-radius: 0;
}

.main-section-details > summary h2 { /* Estilo para el H2 dentro del summary principal */
    margin: 0;
    flex-grow: 1;
    font-size: 1.5em;
    color: #00796b;
    display: flex;
    align-items: center;
}

.section-number { /* Número de sección principal (1., 2., ...) */
    background-color: #00796b;
    color: white;
    border-radius: 50%;
    width: 1.5em;
    height: 1.5em;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    font-size: 0.8em;
    font-weight: bold;
    margin-right: 0.5em;
    flex-shrink: 0;
}

.main-section-details > summary::before { /* Indicador flecha secciones principales */
    content: '▶';
    font-size: 0.8em;
    margin-right: 0.6em;
    transition: transform 0.2s ease-in-out;
    color: #00796b;
    flex-shrink: 0; /* Evita que se achique */
}

.main-section-details[open] > summary::before {
    transform: rotate(90deg);
}

.main-section-details > .section-content { /* Contenido dentro del details principal */
    padding: 1em 1em 1em 2.5em; /* Padding (izquierdo alinea con título) */
    background-color: #ffffff; /* Fondo blanco */
    border-top: 1px solid #a5d6a7; /* Linea superior sutil */
    border-radius: 0 0 5px 5px; /* Redondear esquinas inferiores */
}


/* --- Estilos para la lista DENTRO de Sección 3 y 4 (Pasos y Excepciones) --- */
.steps-list,
.exceptions-list {
     padding-left: 0; /* Quitar padding extra */
     padding-top: 0.5em; /* Espacio arriba */
}

/* --- Estilos para los <details> internos (Pasos 3.x, Excepciones 4.x, Responsabilidades 5.x) --- */
.step-item {
    margin-bottom: 1em;
    border: 1px solid #b2dfdb; /* Borde verde más claro */
    border-radius: 6px;
    background-color: #f8fdfd;
}
.step-item:last-child {
    margin-bottom: 0;
}

.step-item > summary {
    font-weight: bold;
    padding: 0.8em 1em;
    cursor: pointer;
    background-color: #e0f2f1; /* Fondo verde muy claro */
    border-radius: 5px;
    list-style: none; /* Importante */
    display: flex;
    align-items: center;
    transition: background-color 0.2s ease;
    color: #004d40;
}
.step-item > summary:hover {
    background-color: #c8e6c9;
}

.step-item[open] > summary {
     border-bottom: 1px solid #b2dfdb;
     background-color: #c8e6c9;
     border-bottom-left-radius: 0;
     border-bottom-right-radius: 0;
}

.step-item > summary::before { /* Indicador flecha para items internos */
    content: '▶';
    font-size: 0.8em;
    margin-right: 0.6em;
    transition: transform 0.2s ease-in-out;
    color: #00796b;
    flex-shrink: 0;
}

.step-item[open] > summary::before {
    transform: rotate(90deg);
}

/* Número del paso (3.1, 3.2...) */
.step-number {
    font-size: 0.9em;
    font-weight: normal;
    background-color: #80cbc4;
    color: #004d40;
    padding: 0.2em 0.5em;
    border-radius: 4px;
    margin-right: 0.7em; /* ESPACIO entre número y título */
    flex-shrink: 0;
    display: inline-block; /* Asegura que margen y padding funcionen */
    vertical-align: middle; /* Alineación vertical */
}

/* Número de excepción (4.1, 4.2...) */
.exception-number {
    font-size: 0.9em;
    font-weight: normal;
    background-color: #ffcc80; /* Naranja claro */
    color: #e65100; /* Naranja oscuro */
    padding: 0.2em 0.5em;
    border-radius: 4px;
    margin-right: 0.7em; /* ESPACIO entre número y título */
    flex-shrink: 0;
    display: inline-block; /* Asegura que margen y padding funcionen */
    vertical-align: middle; /* Alineación vertical */
}

/* Estilo para el texto del rol dentro del summary de la sección 5 */
.responsibility-role {
    /* Hereda estilos de .step-item > summary (bold, color) */
    /* Puedes añadir algo específico si quieres, ej: */
    /* font-style: italic; */
    flex-grow: 1; /* Ocupa el espacio disponible */
}

/* Contenido del item interno (paso, excepción, responsabilidad) */
.step-detail {
    padding: 1em 1.5em 1em 1.5em; /* Padding consistente */
    border-top: 1px solid #b2dfdb;
    background-color: #ffffff;
    border-radius: 0 0 5px 5px;
}
/* Indentación estándar para listas dentro del detalle */
.step-detail ul {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
    padding-left: 25px;
}
.step-detail li {
    margin-bottom: 0.3em;
}
/* Quitar margen por defecto de párrafos dentro del detalle */
.step-detail p {
    margin: 0 0 0.5em 0; /* Margen inferior opcional */
}
.step-detail p:last-child {
    margin-bottom: 0;
}


/* Opciones A/B dentro de pasos */
.option {
    margin-top: 0.8em;
    padding: 0.8em;
    border-radius: 4px;
    border: 1px dashed #a5d6a7;
}
.option-a { background-color: #e8f5e9; }
.option-b { background-color: #e0f2f1; }
.option p { margin: 0; }

/* Texto resaltado en excepciones */
.important-note {
    color: #d84315;
    font-weight: bold;
}

/* --- Estilos para la lista DENTRO de Sección 5 (Responsabilidades) --- */
.responsibilities-list {
    padding-left: 0; /* Quitar padding extra */
    padding-top: 0.5em; /* Espacio arriba */
}

/* --- Footer --- */
.main-footer {
    margin-top: 2em;
    padding: 1em;
    font-size: 0.9em;
    background-color: #e0e0e0;
    color: #555;
    text-align: center;
}
